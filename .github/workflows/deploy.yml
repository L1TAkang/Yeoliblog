name: Deploy to GitHub Pages

on:
  push:
    branches:
      - main # main ë¸Œëœì¹˜ì— pushë  ë•Œë§ˆë‹¤ ì‹¤í–‰ë©ë‹ˆë‹¤.

jobs:
  build-and-deploy:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout ğŸ›ï¸
        uses: actions/checkout@v3

      # âŒ 15~18ë²ˆì§¸ ì¤„ì— ìˆë˜ 'Replace API keys' ë‹¨ê³„ëŠ” ì™„ì „íˆ ì‚­ì œí•©ë‹ˆë‹¤.

      - name: Deploy to GitHub Pages
        uses: peaceiris/actions-gh-pages@v3
        with:
          github_token: ${{ secrets.GITHUB_TOKEN }}
          publish_dir: ./
          # ğŸ‘‡ build_command ë¶€ë¶„ë§Œ ì´ë ‡ê²Œ ë‚¨ê²¨ë‘ì„¸ìš”.
          build_command: |
            sed -i "s|__FIREBASE_CONFIG__|${{ secrets.FIREBASE_CONFIG }}|g" index.html
            sed -i "s|__UNSPLASH_ACCESS_KEY__|${{ secrets.UNSPLASH_ACCESS_KEY }}|g" index.html
