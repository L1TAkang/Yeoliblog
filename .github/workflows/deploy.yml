# deploy.yml

name: Deploy to GitHub Pages

on:
  push:
    branches:
      - main

jobs:
  build-and-deploy:
    runs-on: ubuntu-latest
    steps: # 'steps:' ì•„ë˜ì— ìˆëŠ” ëª¨ë“  '-'ëŠ” ê°™ì€ ìœ„ì¹˜ì—ì„œ ì‹œì‘í•´ì•¼ í•©ë‹ˆë‹¤.
      - name: Checkout ğŸ›ï¸
        uses: actions/checkout@v3

      # ğŸ‘‡ ì´ ë‹¨ê³„ì˜ ë“¤ì—¬ì“°ê¸°ë¥¼ ì•„ë˜ì™€ ë˜‘ê°™ì´ ë§ì¶°ì£¼ì„¸ìš”.
      - name: Deploy to GitHub Pages
        # env, uses, withê°€ ëª¨ë‘ ê°™ì€ ìˆ˜ì¤€ìœ¼ë¡œ ë“¤ì—¬ì“°ê¸° ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.
        env:
          FIREBASE_SECRET: ${{ secrets.FIREBASE_CONFIG }}
          UNSPLASH_SECRET: ${{ secrets.UNSPLASH_ACCESS_KEY }}
        uses: peaceiris/actions-gh-pages@v3
        with:
          github_token: ${{ secrets.GITHUB_TOKEN }}
          publish_dir: ./
          build_command: |
            sed -i "s|__FIREBASE_CONFIG__|${FIREBASE_SECRET}|g" index.html
            sed -i "s|__UNSPLASH_ACCESS_KEY__|${UNSPLASH_SECRET}|g" index.html
